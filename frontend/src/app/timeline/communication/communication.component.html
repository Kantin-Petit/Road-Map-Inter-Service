<section class="timeline-communication" *ngFor="let service of filterService.services">
  <div class="info">
    <div class="image-wrapper">
      <img [src]="socketUrl + '/images/services/service'+ service.id + '/' + service.image" alt="image_service"/>
    </div>
    <h2>{{service.name | uppercase }}</h2>
    <p>{{ service.description }}</p>
  </div>
  <ol>
    <li *ngFor="let timeline of service.sujets">
      <div [class.card_selected]="filterService.sidebarVisible && filterService.selectedItemIndex === service.name + timeline.id" (click)="toggleSidebar(service.name, timeline)">
          <p class="puces">
            <span *ngFor="let thematic of timeline.Thematics" [style.background-color]="thematic.color" class="puce"></span>
          </p>
          <h2>{{ timeline.title }}</h2>
          <markdown class="communication-markdown" *ngIf="timeline.text" [data]="shareService.truncateText(timeline.text)"></markdown>
      </div>
    </li>
  </ol>
</section>

<p-sidebar [(visible)]="filterService.sidebarVisible" position="right">
  <app-sidebar *ngIf="filterService.sidebarData" [sidebarData]="filterService.sidebarData"></app-sidebar>
</p-sidebar>
